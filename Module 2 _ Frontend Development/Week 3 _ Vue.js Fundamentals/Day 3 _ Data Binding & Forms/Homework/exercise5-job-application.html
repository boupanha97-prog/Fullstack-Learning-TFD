<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 5: Job Application</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen py-10 px-4">
    <div id="app" class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-8 border-b pb-4">Job Application</h1>

        <form @submit.prevent="submitApplication" class="space-y-8">
            
            <!-- Personal Info -->
            <section>
                <h2 class="text-xl font-bold text-gray-700 mb-4">Personal Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <input v-model="form.fullName" type="text" placeholder="Full Name" required class="border p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <input v-model="form.email" type="email" placeholder="Email Address" required class="border p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <input v-model="form.phone" type="tel" placeholder="Phone Number" required class="border p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <input v-model="form.linkedin" type="url" placeholder="LinkedIn URL" class="border p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none">
                </div>
            </section>

            <!-- Experience (Dynamic) -->
            <section>
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold text-gray-700">Work Experience</h2>
                    <button type="button" @click="addExperience" class="text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200 font-bold">+ Add Job</button>
                </div>
                
                <div v-if="form.experience.length === 0" class="text-gray-400 italic text-sm mb-4">No experience added yet.</div>

                <div v-for="(job, index) in form.experience" :key="index" class="bg-gray-50 p-4 rounded-lg mb-4 border border-gray-200 relative group">
                    <button type="button" @click="removeExperience(index)" class="absolute top-2 right-2 text-red-400 hover:text-red-600 font-bold text-xl">&times;</button>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-3">
                        <input v-model="job.company" placeholder="Company Name" class="border p-2 rounded">
                        <input v-model="job.title" placeholder="Job Title" class="border p-2 rounded">
                        <div class="flex gap-2">
                            <input v-model="job.startDate" type="date" class="border p-2 rounded w-full">
                            <input v-model="job.endDate" type="date" class="border p-2 rounded w-full" :disabled="job.current">
                        </div>
                        <label class="flex items-center">
                            <input type="checkbox" v-model="job.current" class="mr-2"> Currently Working
                        </label>
                    </div>
                    <textarea v-model="job.description" placeholder="Job Description" rows="2" class="w-full border p-2 rounded"></textarea>
                </div>
            </section>

            <!-- Skills -->
            <section>
                <h2 class="text-xl font-bold text-gray-700 mb-4">Skills</h2>
                <div class="flex flex-wrap gap-3">
                    <label v-for="skill in availableSkills" :key="skill" class="cursor-pointer select-none">
                        <input type="checkbox" v-model="form.skills" :value="skill" class="hidden peer">
                        <span class="px-4 py-2 rounded-full bg-gray-100 text-gray-600 peer-checked:bg-blue-600 peer-checked:text-white transition text-sm font-medium">
                            {{ skill }}
                        </span>
                    </label>
                </div>
            </section>

            <!-- Documents -->
            <section>
                <h2 class="text-xl font-bold text-gray-700 mb-4">Documents</h2>
                <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:bg-gray-50 transition cursor-pointer relative">
                    <input type="file" @change="handleFileUpload" class="absolute inset-0 opacity-0 cursor-pointer">
                    <p class="text-gray-500" v-if="!form.resume">Drag resume here or click to upload (PDF)</p>
                    <p class="text-green-600 font-bold" v-else>ðŸ“„ {{ form.resume.name }}</p>
                </div>
            </section>

            <button type="submit" class="w-full bg-green-600 text-white font-bold py-4 rounded-lg hover:bg-green-700 transition text-lg shadow-lg">
                Submit Application
            </button>
        </form>
    </div>

    <script>
        const { createApp } = Vue;
        createApp({
            data() {
                return {
                    form: {
                        fullName: '', email: '', phone: '', linkedin: '',
                        experience: [],
                        skills: [],
                        resume: null
                    },
                    availableSkills: ['JavaScript', 'Vue.js', 'React', 'Node.js', 'Python', 'SQL', 'Git', 'AWS']
                }
            },
            methods: {
                addExperience() {
                    this.form.experience.push({ company: '', title: '', startDate: '', endDate: '', current: false, description: '' });
                },
                removeExperience(index) {
                    this.form.experience.splice(index, 1);
                },
                handleFileUpload(event) {
                    this.form.resume = event.target.files[0];
                },
                submitApplication() {
                    console.log(this.form);
                    alert('Application Submitted!');
                }
            }
        }).mount('#app');
    </script>
</body>
</html>