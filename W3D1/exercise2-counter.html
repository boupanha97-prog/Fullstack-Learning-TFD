<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exercise 2: Interactive Counter</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 min-h-screen flex items-center justify-center font-sans text-white">

    <div id="app" class="w-full max-w-lg bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700">
        <h2 class="text-3xl font-bold text-center mb-8 text-gray-100">Interactive Counter</h2>

        <!-- Counter Display -->
        <div class="text-center mb-8">
            <div class="text-9xl font-bold transition-colors duration-300 mb-4" :style="{ color: counterColor }">
                {{ count }}
            </div>
            <p class="text-xl font-medium h-8" :style="{ color: counterColor }">{{ message }}</p>
        </div>

        <!-- Controls -->
        <div class="grid grid-cols-4 gap-3 mb-6">
            <button @click="increment(-1)" class="bg-red-600 hover:bg-red-500 py-3 rounded font-bold transition">-1</button>
            <button @click="increment(1)" class="bg-blue-600 hover:bg-blue-500 py-3 rounded font-bold transition">+1</button>
            <button @click="increment(5)" class="bg-blue-600 hover:bg-blue-500 py-3 rounded font-bold transition">+5</button>
            <button @click="increment(10)" class="bg-blue-600 hover:bg-blue-500 py-3 rounded font-bold transition">+10</button>
        </div>

        <div class="flex gap-3 mb-8">
            <button @click="reset" class="flex-1 bg-gray-600 hover:bg-gray-500 py-2 rounded font-semibold transition">Reset to 0</button>
            <div class="flex-1 flex">
                <input v-model.number="customValue" type="number" placeholder="Set value" class="w-full px-3 bg-gray-700 rounded-l border-none focus:ring-2 focus:ring-blue-500 outline-none">
                <button @click="setCustom" class="bg-purple-600 hover:bg-purple-500 px-4 rounded-r font-semibold transition">Set</button>
            </div>
        </div>

        <!-- Stats / History -->
        <div class="bg-gray-700 rounded-lg p-4 text-sm">
            <div class="flex justify-between mb-2 border-b border-gray-600 pb-2">
                <span class="text-gray-400">Highest Reached:</span>
                <span class="font-bold text-green-400">{{ highest }}</span>
            </div>
            <div>
                <span class="text-gray-400 block mb-1">History (Last 5):</span>
                <div class="flex gap-2">
                    <span v-for="(item, index) in history.slice(0, 5)" :key="index" class="bg-gray-600 px-2 py-1 rounded text-xs">
                        {{ item }}
                    </span>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    count: 0,
                    customValue: null,
                    highest: 0,
                    history: []
                }
            },
            computed: {
                message() {
                    if (this.count < 0) return "Negative territory!";
                    if (this.count === 0) return "Just started!";
                    if (this.count === 50) return "Halfway to 100!";
                    if (this.count >= 100) return "Century!";
                    if (this.count > 50 && this.count < 100) return "Almost there!";
                    if (this.count > 0 && this.count <= 50) return "Getting there!";
                    return "";
                },
                counterColor() {
                    if (this.count < 0) return '#ef4444'; // Red
                    if (this.count >= 100) return '#22c55e'; // Green
                    if (this.count >= 50) return '#f97316'; // Orange
                    return '#3b82f6'; // Blue
                }
            },
            methods: {
                increment(amount) {
                    this.addToHistory(this.count);
                    this.count += amount;
                    this.checkHighest();
                },
                reset() {
                    this.addToHistory(this.count);
                    this.count = 0;
                },
                setCustom() {
                    if (this.customValue !== null && this.customValue !== '') {
                        this.addToHistory(this.count);
                        this.count = this.customValue;
                        this.checkHighest();
                        this.customValue = null;
                    }
                },
                checkHighest() {
                    if (this.count > this.highest) {
                        this.highest = this.count;
                    }
                },
                addToHistory(val) {
                    this.history.unshift(val);
                    if (this.history.length > 10) this.history.pop();
                }
            }
        }).mount('#app');
    </script>
</body>
</html>